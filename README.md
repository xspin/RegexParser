# RegexParser

Regular Expression Parser

## Build and Install

```sh
# compile
make

# install
make install
```

## Run unittest

```sh
make test
```


## Examples


```sh
# Parse a specified regular expression
build/regexparser '^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$'

# Print ansi-colored result
build/regexparser -c '[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?'

# Generate and parse a random regular expression
build/regexparser -g 20


# Output the syntax tree
build/regexparser -g 20 -f tree

# Show more usage details
build/regexparser -h
```

A regex graph output example:

```
Parsed Expr: ((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}

                                                 ╭╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴Group #4╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╮     
   ╭╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴Group #1╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╮    ┆       ╭╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴Group #5╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╮ ┆     
   ┆   ╭╴╴╴╴╴╴╴╴╴╴╴╴Group #2╴╴╴╴╴╴╴╴╴╴╴╴╮   ┆    ┆       ┆   ╭╴╴╴╴╴╴╴╴╴╴╴╴Group #6╴╴╴╴╴╴╴╴╴╴╴╴╮   ┆ ┆     
   ┆   ┆      ╭╴╴╴╴╴╴╴Group #3╴╴╴╴╴╴╴╴╮ ┆   ┆    ┆       ┆   ┆      ╭╴╴╴╴╴╴╴Group #7╴╴╴╴╴╴╴╴╮ ┆   ┆ ┆     
   ┆   ┆      ┆     ┌─┐  ┏One of┓     ┆ ┆   ┆    ┆       ┆   ┆      ┆     ┌─┐  ┏One of┓     ┆ ┆   ┆ ┆     
   ┆   ┆      ┆ ┌───┤5├──┫ 0-5  ┣───┐ ┆ ┆   ┆    ┆       ┆   ┆      ┆ ┌───┤5├──┫ 0-5  ┣───┐ ┆ ┆   ┆ ┆     
   ┆   ┆ ┌─┐  ┆ │   └─┘  ┗━━━━━━┛   │ ┆ ┆   ┆    ┆       ┆   ┆ ┌─┐  ┆ │   └─┘  ┗━━━━━━┛   │ ┆ ┆   ┆ ┆     
   ┆ ┌─┼─┤2├──┼─┤ ┏One of┓  ╔═\d══╗ ├─┼─┼─┐ ┆    ┆       ┆ ┌─┼─┤2├──┼─┤ ┏One of┓  ╔═\d══╗ ├─┼─┼─┐ ┆ ┆     
   ┆ │ ┆ └─┘  ┆ └─┫ 0-4  ┣──╣Digit╠─┘ ┆ ┆ │ ┆    ┆       ┆ │ ┆ └─┘  ┆ └─┫ 0-4  ┣──╣Digit╠─┘ ┆ ┆ │ ┆ ┆     
   ┆ │ ┆      ┆   ┗━━━━━━┛  ╚═════╝   ┆ ┆ │ ┆    ┆ ┌──┐  ┆ │ ┆      ┆   ┗━━━━━━┛  ╚═════╝   ┆ ┆ │ ┆ ┆     
●──┼─┤ ┆      ┆                       ┆ ┆ ├─┼──┬─┼─┤\.├──┼─┤ ┆      ┆                       ┆ ┆ ├─┼─┼─┬──●
   ┆ │ ┆      ╰╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╯ ┆ │ ┆  │ ┆ └──┘  ┆ │ ┆      ╰╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╯ ┆ │ ┆ ┆ │   
   ┆ │ ╰╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╯ │ ┆  │ ┆       ┆ │ ╰╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╯ │ ┆ ┆ │   
   ┆ │                                    │ ┆  │ ┆       ┆ │                                    │ ┆ ┆ │   
   ┆ │       ┏One of┓      ╔═\d══╗        │ ┆  │ ┆       ┆ │       ┏One of┓      ╔═\d══╗        │ ┆ ┆ │   
   ┆ └─────┬─┫ 0-1  ┣─┬──┬─╣Digit╠─┬──────┘ ┆  │ ┆       ┆ └─────┬─┫ 0-1  ┣─┬──┬─╣Digit╠─┬──────┘ ┆ ┆ │   
   ┆       │ ┗━━━━━━┛ │  │ ╚═════╝ │        ┆  │ ┆       ┆       │ ┗━━━━━━┛ │  │ ╚═════╝ │        ┆ ┆ │   
   ┆       └───↺0→1───┘  └──↻1→2───┘        ┆  │ ┆       ┆       └───↺0→1───┘  └──↻1→2───┘        ┆ ┆ │   
   ┆                                        ┆  │ ┆       ┆                                        ┆ ┆ │   
   ╰╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╯  │ ┆       ╰╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╯ ┆ │   
                                               │ ╰╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╴╯ │   
                                               └──────────────────────────↻3──────────────────────────┘   
```



```sh
# DFA states table and graph output
build/regexparser -fd '(a[ab]c|b[bc]c|c[ac]c)'
```

```
Parsed Expr: (a[ab]c|b[bc]c|c[ac]c)

========== DFA Start ==========
      Tokens: a b c
    >State 0: 1 2 3
     State 1: 4 4 -
     State 2: - 4 4
     State 3: 4 - 4
     State 4: - - 8
    *State 8: - - -
Accept States: 8
==========  DFA End  ==========
                   a                        
                  ┌>─────┐                  
                  │      ↓                  
  ┏━━━━━┓c   ╭────┴╮c   ╭┴────╮c   ╔═════╗  
 →┃  0  ┃───>│  3  │───>│  4  │───>║  8  ║  
  ┗━━━━┬┛    ╰─────╯    ╰┬────╯    ╚═════╝  
       │                 ↑                  
      b│                 │                  
   ┌──<┤                 │                  
   │   │a                │                  
   │   └>─────┐          │                  
   │          │    b     │                  
   │          │   ┌>─────┤                  
   │          │   │a     │                  
   │          │   ├>─────┤                  
   │    c     │   │      │                  
   │   ┌>─────┼───┼──────┤                  
   │   │b     │   │      │                  
   │   ├>─────┼───┼──────┘                  
   ↓   │      ↓   │                         
  ╭┴───┴╮    ╭┴───┴╮                        
  │  2  │    │  1  │                        
  ╰─────╯    ╰─────╯             
```
